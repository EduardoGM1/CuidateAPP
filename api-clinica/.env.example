# ============================================
# CONFIGURACIÃ“N DE BASE DE DATOS
# ============================================
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=admin
DB_NAME=medical_db
DB_PORT=3306
DB_SSL=false

# ConfiguraciÃ³n SSL de Base de Datos (opcional)
DB_SSL_CA=/path/to/ca-cert.pem
DB_SSL_CERT=/path/to/client-cert.pem
DB_SSL_KEY=/path/to/client-key.pem

# ============================================
# CONFIGURACIÃ“N DE SEGURIDAD
# ============================================
# Generar con: node scripts/generate-keys.js
JWT_SECRET=your_64_character_jwt_secret_generated_with_crypto_random_bytes
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_refresh_token_secret_different_from_jwt_secret
JWT_REFRESH_EXPIRES_IN=7d

# Tiempos de expiración de tokens por rol (access token al iniciar sesión)
# Pacientes: 3 días
PATIENT_ACCESS_TOKEN_EXPIRES_IN=3d
PATIENT_REFRESH_TOKEN_EXPIRES_IN=7d

# Admin/Doctor: 10 horas
DOCTOR_ACCESS_TOKEN_EXPIRES_IN=10h
DOCTOR_REFRESH_TOKEN_EXPIRES_IN=7d

# Tiempos por defecto (si no se especifican los anteriores)
ACCESS_TOKEN_EXPIRES_IN=7h
REFRESH_TOKEN_EXPIRES_IN=7d

# Clave de encriptaciÃ³n para datos sensibles (PII)
# Debe ser de 64 caracteres
ENCRYPTION_KEY=your_64_character_encryption_key_for_pii_data_generate_with_crypto

# Secretos adicionales
CSRF_SECRET=your_32_character_csrf_secret_generated
SESSION_SECRET=your_session_secret_key_32_characters_minimum

# ============================================
# CONFIGURACIÃ“N DEL SERVIDOR
# ============================================
PORT=3000
NODE_ENV=development
HTTPS=false

# ConfiguraciÃ³n SSL para producciÃ³n (opcional)
SSL_ENABLED=false
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CA_PATH=/path/to/ssl/ca.pem

# OrÃ­genes permitidos para CORS (separados por comas). En producciÃ³n aÃ±ade tu dominio.
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081

# URL del frontend o app (para enlaces en emails: restablecer contraseÃ±a, etc.)
FRONTEND_URL=http://localhost:3000
# En producciÃ³n sin SSL (solo IP): FORCE_HTTPS=false para no redirigir a HTTPS
# FORCE_HTTPS=false
# APP_URL=http://localhost:3000

# ============================================
# CONFIGURACIÃ“N DE SEGURIDAD Y LÃMITES
# ============================================
MAX_PAYLOAD_SIZE=1mb
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
AUTH_RATE_LIMIT_MAX=5

# ============================================
# CONFIGURACIÃ“N DE CUMPLIMIENTO MÃ‰DICO
# ============================================
HIPAA_COMPLIANT=true
AUDIT_LOGGING=true
DATA_ENCRYPTION=true
LOG_RETENTION_DAYS=2555
BACKUP_ENCRYPTION=true

# ============================================
# CONFIGURACIÃ“N DE MONITOREO Y ALERTAS
# ============================================
LOG_LEVEL=info
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true
ALERT_EMAIL=admin@your-domain.com

# ============================================
# CONFIGURACIÃ“N DE EMAIL (SMTP)
# ============================================
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=alerts@your-domain.com
SMTP_PASS=your_smtp_password

# ============================================
# OPTIMIZACIONES DE PRODUCCIÃ“N
# ============================================
CLUSTER_MODE=false
WORKER_PROCESSES=auto
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000
MAX_CONNECTIONS=1000

# ============================================
# CONFIGURACIÃ“N DE FIREBASE (PUSH NOTIFICATIONS)
# ============================================
# Obtener estos valores desde Firebase Console
# https://console.firebase.google.com/
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PROJECT_NUMBER=your-firebase-project-number
FIREBASE_API_KEY=your-firebase-api-key
FIREBASE_STORAGE_BUCKET=your-project-id.firebasestorage.app
FIREBASE_APP_ID=your-firebase-app-id
FIREBASE_PACKAGE_NAME=com.yourpackage.app

# Firebase Service Account Key (JSON)
# Obtener desde: Firebase Console > Project Settings > Service Accounts
# IMPORTANTE: Este es un secreto real, NO subirlo a Git
# Usar solo en archivo .env local (no en .env.example)
FIREBASE_SERVICE_ACCOUNT_KEY={"type":"service_account","project_id":"your-project-id","private_key_id":"your-private-key-id","private_key":"-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n","client_email":"your-service-account@your-project-id.iam.gserviceaccount.com","client_id":"your-client-id","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/your-service-account%40your-project-id.iam.gserviceaccount.com","universe_domain":"googleapis.com"}

# ============================================
# CONFIGURACIÃ“N DE RESEND (EMAIL SERVICE)
# ============================================
# Obtener desde: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key_here

# ============================================
# CONFIGURACIÃ“N DE BACKUPS
# ============================================
BACKUP_DIR=./backups
BACKUP_INTERVAL=86400000
MAX_BACKUPS=7

# ============================================
# INSTRUCCIONES
# ============================================
# 1. Copia este archivo a .env: cp .env.example .env
# 2. Reemplaza todos los valores "your_*" con tus valores reales
# 3. Genera las claves de seguridad con: node scripts/generate-keys.js
# 4. NUNCA subas el archivo .env a Git (ya estÃ¡ en .gitignore)
# 5. Para producciÃ³n, usa variables de entorno del servidor o un gestor de secretos
