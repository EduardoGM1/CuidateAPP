# üì± Configuraci√≥n Espec√≠fica para Huawei Nova Y90

## ‚ö†Ô∏è IMPORTANTE: Huawei/EMUI tiene configuraciones muy restrictivas

Huawei tiene un sistema muy agresivo de gesti√≥n de bater√≠a que puede impedir que las notificaciones funcionen con la app cerrada. Sigue estos pasos **EXACTAMENTE**:

## üîß Pasos Obligatorios para Huawei

### 1. **Desactivar Optimizaci√≥n de Bater√≠a** (CR√çTICO)

**M√©todo 1: Desde Configuraci√≥n**
1. Ve a **Ajustes** ‚Üí **Aplicaciones** ‚Üí **Aplicaciones**
2. Busca **Cl√≠nica M√≥vil**
3. Toca en **Bater√≠a**
4. Selecciona **"No optimizar"** o **"Gestionar manualmente"**
5. Activa **"Activaci√≥n del sistema"**
6. Activa **"Activaci√≥n autom√°tica"**
7. Desactiva **"Cerrar cuando se bloquee la pantalla"**

**M√©todo 2: Desde Administrador del Tel√©fono**
1. Abre **Administrador del tel√©fono** (Phone Manager)
2. Ve a **Gestor de bater√≠a**
3. Toca **Aplicaciones protegidas**
4. Busca **Cl√≠nica M√≥vil** y **ACT√çVALA** (marca el switch)
5. Esto evita que el sistema cierre la app

### 2. **Agregar a Aplicaciones Protegidas** (MUY IMPORTANTE)

1. Abre **Administrador del tel√©fono**
2. Ve a **Gestor de bater√≠a**
3. Toca **Aplicaciones protegidas**
4. Busca **Cl√≠nica M√≥vil**
5. **ACTIVA el switch** (debe estar en verde/azul)

### 3. **Configurar Notificaciones**

1. Ve a **Ajustes** ‚Üí **Aplicaciones** ‚Üí **Aplicaciones**
2. Busca **Cl√≠nica M√≥vil**
3. Toca en **Notificaciones**
4. Activa **"Permitir notificaciones"**
5. Activa **"Mostrar en pantalla bloqueada"**
6. Activa **"Sonido"** y **"Vibraci√≥n"**
7. Activa **"Importancia alta"** o **"Urgente"**

### 4. **Activar Datos en Segundo Plano**

1. Mant√©n presionado el √≠cono de **Cl√≠nica M√≥vil** en la pantalla de inicio
2. Toca en **Informaci√≥n de la aplicaci√≥n** (√≠cono "i")
3. Toca en **Datos m√≥viles y Wi-Fi**
4. Activa **"Datos en segundo plano"**
5. Activa **"Permitir uso de datos en segundo plano"**

### 5. **Desactivar Pausa de Actividad**

1. Mant√©n presionado el √≠cono de **Cl√≠nica M√≥vil** en la pantalla de inicio
2. Toca en **Informaci√≥n de la aplicaci√≥n** (√≠cono "i")
3. Busca **"Pausar actividad de la aplicaci√≥n si no se usa"**
4. **DESACT√çVALA** (debe estar apagada)

### 6. **Configurar Permisos de Inicio Autom√°tico** (EMUI)

1. Ve a **Ajustes** ‚Üí **Aplicaciones** ‚Üí **Inicio autom√°tico**
2. Busca **Cl√≠nica M√≥vil**
3. **ACTIVA el switch** para permitir inicio autom√°tico

### 7. **Configurar Permisos de Alarma Exacta** (Android 12+)

1. Ve a **Ajustes** ‚Üí **Aplicaciones** ‚Üí **Permisos especiales**
2. Toca en **Alarma exacta**
3. Busca **Cl√≠nica M√≥vil**
4. **ACTIVA el permiso**

### 8. **Desactivar Aviso de Alto Consumo**

1. Ve a **Ajustes** ‚Üí **Aplicaciones** ‚Üí **Aplicaciones**
2. Busca **Cl√≠nica M√≥vil**
3. Toca en **Bater√≠a**
4. Desactiva **"Aviso de alto consumo de energ√≠a"**

## üß™ Probar las Notificaciones

Despu√©s de realizar TODOS los pasos anteriores:

1. **Abre la app**
2. Ve al panel de pruebas (üß™ Panel de Pruebas)
3. Toca **"üß™ Probar con App Cerrada (15 seg)"**
4. **Cierra la app COMPLETAMENTE**:
   - Toca el bot√≥n de aplicaciones recientes
   - Desliza la app hacia arriba para cerrarla
5. **Espera 15 segundos**
6. La notificaci√≥n deber√≠a aparecer

## ‚úÖ Verificaci√≥n

Si despu√©s de todos estos pasos a√∫n no funciona:

1. **Reinicia el dispositivo** (importante despu√©s de cambiar configuraciones)
2. **Vuelve a abrir la app** una vez despu√©s del reinicio
3. **Programa una nueva notificaci√≥n de prueba**
4. **Cierra la app completamente**
5. **Espera**

## üîç Soluci√≥n de Problemas Adicionales

### Si a√∫n no funciona:

**Opci√≥n 1: Usar Modo de Desarrollo**
- En el panel de pruebas, verifica que el modo de prueba est√© activado
- Las notificaciones en modo prueba se activan m√°s r√°pido

**Opci√≥n 2: Verificar Hora del Sistema**
- Aseg√∫rate de que la hora del dispositivo est√© correcta
- Las notificaciones programadas usan la hora del sistema

**Opci√≥n 3: Verificar Versi√≥n de EMUI**
- Algunas versiones de EMUI tienen restricciones adicionales
- Verifica que tengas la √∫ltima actualizaci√≥n del sistema

## üìù Notas Espec√≠ficas para Huawei

- **Huawei es muy agresivo** con la gesti√≥n de bater√≠a
- Puede ser necesario configurar **TODOS** los pasos anteriores
- Algunos modelos de Huawei requieren configuraciones adicionales
- **Reinicia el dispositivo** despu√©s de cambiar configuraciones

## üéØ Resumen de Configuraciones Cr√≠ticas

Para que funcione en Huawei, necesitas:

1. ‚úÖ Desactivar optimizaci√≥n de bater√≠a
2. ‚úÖ Agregar a aplicaciones protegidas
3. ‚úÖ Activar inicio autom√°tico
4. ‚úÖ Permitir datos en segundo plano
5. ‚úÖ Desactivar pausa de actividad
6. ‚úÖ Configurar notificaciones (importancia alta)
7. ‚úÖ Permitir alarma exacta (Android 12+)
8. ‚úÖ Reiniciar el dispositivo

## ‚ö†Ô∏è Limitaciones Conocidas de Huawei

- Huawei puede seguir retrasando notificaciones incluso con todas las configuraciones
- El modo Doze de Huawei es m√°s agresivo que en otros Android
- Algunas notificaciones pueden tener un retraso de 1-2 minutos
- Las notificaciones programadas pueden no ser 100% exactas en tiempo

## üí° Alternativa: Notificaciones Push

Si las notificaciones locales no funcionan de forma confiable en Huawei, considera:
- Usar notificaciones push desde el servidor (FCM)
- Las notificaciones push funcionan mejor en Huawei que las locales programadas


